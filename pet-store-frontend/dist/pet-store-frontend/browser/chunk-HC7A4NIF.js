import{a as te,b as ie}from"./chunk-D6YOMAUJ.js";import{a as re,b as ne}from"./chunk-5ZXECSJE.js";import"./chunk-OVUCDZ47.js";import{a as E}from"./chunk-JBPC4PL7.js";import"./chunk-EY6RNGL4.js";import{a as V,b as m,d as q,e as D,h as G,j as H,k as Y,m as $,o as U,p as J,q as K,r as Q,s as W,t as X,w as Z,x as ee}from"./chunk-IVESP2IG.js";import{a as S,b as k,c as F,d as I,e as N,f as R,g as L}from"./chunk-CWIOIJCP.js";import{c as w,d as y,g as O}from"./chunk-NWH3GCAN.js";import{$ as T,aa as B,ba as j,ca as z,da as A}from"./chunk-ORF7SHNW.js";import"./chunk-Q64FFBLU.js";import{Bc as b,Fb as x,Fc as P,Hb as f,Pb as a,Qb as C,Rb as c,Va as s,Wa as u,Xb as v,ia as M,lb as d,mb as _,nb as l,wb as r,xb as e,yb as p}from"./chunk-4EBM5WXH.js";function ae(o,g){if(o&1&&(r(0,"mat-error"),a(1),e()),o&2){let t=f();s(),c(" ",t.getFieldError("firstName")," ")}}function oe(o,g){if(o&1&&(r(0,"mat-error"),a(1),e()),o&2){let t=f();s(),c(" ",t.getFieldError("lastName")," ")}}function se(o,g){if(o&1&&(r(0,"mat-error"),a(1),e()),o&2){let t=f();s(),c(" ",t.getFieldError("email")," ")}}function le(o,g){if(o&1&&(r(0,"mat-error"),a(1),e()),o&2){let t=f();s(),c(" ",t.getFieldError("password")," ")}}function me(o,g){if(o&1&&(r(0,"mat-error"),a(1),e()),o&2){let t=f();s(),c(" ",t.getFieldError("confirmPassword")," ")}}function de(o,g){o&1&&(r(0,"mat-icon",23),a(1,"hourglass_empty"),e())}function ce(o,g){o&1&&(r(0,"mat-icon"),a(1,"person_add"),e())}var Ne=(()=>{class o{constructor(t,n,i,h){this.formBuilder=t,this.authService=n,this.router=i,this.snackBar=h,this.isLoading=!1,this.hidePassword=!0,this.hideConfirmPassword=!0}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.formBuilder.group({firstName:["",[m.required,m.minLength(2)]],lastName:["",[m.required,m.minLength(2)]],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],confirmPassword:["",[m.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let n=t.get("password")?.value,i=t.get("confirmPassword")?.value;return n!==i?(t.get("confirmPassword")?.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(t.get("confirmPassword")?.setErrors(null),null)}onSubmit(){if(this.registerForm.valid){this.isLoading=!0;let t={firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password};this.authService.register(t).subscribe({next:n=>{this.snackBar.open("Registration successful! Please login with your credentials.","Close",{duration:5e3,panelClass:["success-snackbar"]}),this.router.navigate(["/login"])},error:n=>{this.isLoading=!1;let i="Registration failed. Please try again.";n.error?.message?i=n.error.message:n.status===409?i="Email already exists. Please use a different email address.":n.status===400&&(i="Invalid registration data. Please check your information."),this.snackBar.open(i,"Close",{duration:5e3,panelClass:["error-snackbar"]}),console.error("Registration error:",n)}})}else this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(t=>{this.registerForm.get(t)?.markAsTouched()})}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}toggleConfirmPasswordVisibility(){this.hideConfirmPassword=!this.hideConfirmPassword}getFieldError(t){let n=this.registerForm.get(t);if(n?.hasError("required"))return`${this.getFieldDisplayName(t)} is required`;if(n?.hasError("email"))return"Please enter a valid email address";if(n?.hasError("minlength")){let i=n.getError("minlength").requiredLength;return`${this.getFieldDisplayName(t)} must be at least ${i} characters`}return n?.hasError("passwordMismatch")?"Passwords do not match":""}getFieldDisplayName(t){return{firstName:"First name",lastName:"Last name",email:"Email",password:"Password",confirmPassword:"Confirm password"}[t]||t}isFieldInvalid(t){let n=this.registerForm.get(t);return!!(n&&n.invalid&&(n.dirty||n.touched))}static{this.\u0275fac=function(n){return new(n||o)(u($),u(E),u(w),u(re))}}static{this.\u0275cmp=M({type:o,selectors:[["app-register"]],standalone:!0,features:[v],decls:65,vars:18,consts:[[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"register-title"],[1,"register-icon"],[1,"register-content"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"name-row"],["appearance","outline",1,"name-field"],["matInput","","formControlName","firstName","placeholder","Enter your first name","autocomplete","given-name"],["matPrefix",""],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter your last name","autocomplete","family-name"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email address","autocomplete","email"],["matInput","","formControlName","password","placeholder","Create a password","autocomplete","new-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your password","autocomplete","new-password",3,"type"],["mat-flat-button","","type","submit","color","primary",1,"register-button",3,"disabled"],["class","loading-icon",4,"ngIf"],[1,"register-actions"],[1,"login-link"],["color","primary","routerLink","/login",1,"login-button"],[1,"loading-icon"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title",3)(4,"mat-icon",4),a(5,"person_add"),e(),a(6," Create Account "),e(),r(7,"mat-card-subtitle"),a(8,"Join our pet store community"),e()(),r(9,"mat-card-content",5)(10,"form",6),x("ngSubmit",function(){return i.onSubmit()}),r(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),a(14,"First Name"),e(),p(15,"input",9),r(16,"mat-icon",10),a(17,"person"),e(),d(18,ae,2,1,"mat-error",11),e(),r(19,"mat-form-field",8)(20,"mat-label"),a(21,"Last Name"),e(),p(22,"input",12),r(23,"mat-icon",10),a(24,"person"),e(),d(25,oe,2,1,"mat-error",11),e()(),r(26,"mat-form-field",13)(27,"mat-label"),a(28,"Email Address"),e(),p(29,"input",14),r(30,"mat-icon",10),a(31,"email"),e(),d(32,se,2,1,"mat-error",11),e(),r(33,"mat-form-field",13)(34,"mat-label"),a(35,"Password"),e(),p(36,"input",15),r(37,"mat-icon",10),a(38,"lock"),e(),r(39,"button",16),x("click",function(){return i.togglePasswordVisibility()}),r(40,"mat-icon"),a(41),e()(),r(42,"mat-hint"),a(43,"Password must be at least 6 characters long"),e(),d(44,le,2,1,"mat-error",11),e(),r(45,"mat-form-field",13)(46,"mat-label"),a(47,"Confirm Password"),e(),p(48,"input",17),r(49,"mat-icon",10),a(50,"lock"),e(),r(51,"button",16),x("click",function(){return i.toggleConfirmPasswordVisibility()}),r(52,"mat-icon"),a(53),e()(),d(54,me,2,1,"mat-error",11),e(),r(55,"button",18),d(56,de,2,0,"mat-icon",19)(57,ce,2,0,"mat-icon",11),a(58),e()()(),r(59,"mat-card-actions",20)(60,"div",21)(61,"span"),a(62,"Already have an account?"),e(),r(63,"a",22),a(64," Sign In "),e()()()()()),n&2&&(s(10),l("formGroup",i.registerForm),s(8),l("ngIf",i.isFieldInvalid("firstName")),s(7),l("ngIf",i.isFieldInvalid("lastName")),s(7),l("ngIf",i.isFieldInvalid("email")),s(4),l("type",i.hidePassword?"password":"text"),s(3),_("aria-label","Hide password")("aria-pressed",i.hidePassword),s(2),C(i.hidePassword?"visibility_off":"visibility"),s(3),l("ngIf",i.isFieldInvalid("password")),s(4),l("type",i.hideConfirmPassword?"password":"text"),s(3),_("aria-label","Hide password")("aria-pressed",i.hideConfirmPassword),s(2),C(i.hideConfirmPassword?"visibility_off":"visibility"),s(),l("ngIf",i.isFieldInvalid("confirmPassword")),s(),l("disabled",i.registerForm.invalid||i.isLoading),s(),l("ngIf",i.isLoading),s(),l("ngIf",!i.isLoading),s(),c(" ",i.isLoading?"Creating Account...":"Create Account"," "))},dependencies:[P,b,U,G,V,q,D,H,Y,O,y,L,S,N,F,R,I,k,ee,Z,J,Q,K,W,X,ie,te,j,T,B,A,z,ne],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,var(--background-cream) 0%,var(--background-light) 100%)}.register-card[_ngcontent-%COMP%]{width:100%;max-width:500px;box-shadow:0 8px 32px var(--card-shadow);border-radius:16px;overflow:hidden;background:#fff}.register-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-yellow) 0%,var(--accent-orange) 100%);color:#fff;text-align:center;padding:32px 24px;display:flex;flex-direction:column;align-items:center;justify-content:center}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;font-size:28px;font-weight:600;margin:0;font-family:var(--font-heading)!important}.register-header[_ngcontent-%COMP%]   .register-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.register-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin-top:8px;font-family:var(--font-body)!important}.register-content[_ngcontent-%COMP%]{padding:32px 24px}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.name-row[_ngcontent-%COMP%]{display:flex;gap:16px}.name-row[_ngcontent-%COMP%]   .name-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:var(--background-light);border-radius:8px;border:1px solid var(--border-light)}mat-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:transparent}mat-form-field.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-color:var(--primary-yellow);box-shadow:0 0 0 2px #ffb02033}[matPrefix][_ngcontent-%COMP%]{color:var(--accent-orange);margin-right:8px}.register-button[_ngcontent-%COMP%]{height:48px;font-size:16px;font-weight:600;font-family:var(--font-heading)!important;border-radius:24px;margin-top:16px;background:linear-gradient(135deg,var(--primary-yellow) 0%,var(--accent-orange) 100%);box-shadow:0 4px 12px var(--card-shadow);transition:all .3s ease;border:none;color:#fff}.register-button[_ngcontent-%COMP%]:hover:not([disabled]){transform:translateY(-2px);box-shadow:0 6px 16px #ffb0204d;background:linear-gradient(135deg,var(--primary-yellow-light) 0%,var(--accent-orange-light) 100%)}.register-button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;background:var(--text-light)}.register-button[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.register-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-actions[_ngcontent-%COMP%]{background:var(--background-light);padding:20px 24px;border-top:1px solid var(--border-light);display:flex;justify-content:center;align-items:center}.login-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.login-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-medium);font-size:14px;font-family:var(--font-body)!important}.login-link[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{font-weight:600;text-transform:none;font-family:var(--font-body)!important;color:var(--accent-orange)}.login-link[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]:hover{background-color:#fb8c001a}.mat-mdc-form-field.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-color:var(--warn-color, #f44336);box-shadow:0 0 0 2px #f4433633}.mat-mdc-form-field.mat-form-field-valid[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}@media (max-width: 600px){.register-container[_ngcontent-%COMP%]{padding:16px;min-height:100vh}.register-card[_ngcontent-%COMP%]{max-width:none;margin:0}.register-header[_ngcontent-%COMP%]{padding:24px 16px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:24px}.register-header[_ngcontent-%COMP%]   .register-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.register-content[_ngcontent-%COMP%]{padding:24px 16px}.name-row[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.register-actions[_ngcontent-%COMP%]{padding:16px}}.register-button[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-yellow);outline-offset:2px}button[matSuffix][_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-yellow);outline-offset:2px;border-radius:4px}.register-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}"]})}}return o})();export{Ne as RegisterComponent};
