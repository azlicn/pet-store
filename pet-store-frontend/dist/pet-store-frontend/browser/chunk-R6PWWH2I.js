import{a as X,b as Z}from"./chunk-D6YOMAUJ.js";import{a as $,b as tt}from"./chunk-5ZXECSJE.js";import"./chunk-OVUCDZ47.js";import{a as k}from"./chunk-JBPC4PL7.js";import"./chunk-EY6RNGL4.js";import{a as z,b as f,d as D,e as A,h as R,j as G,k as U,m as V,o as W,p as Y,q as H,t as J,w as K,x as Q}from"./chunk-IVESP2IG.js";import{a as E,c as L,e as I,g as F}from"./chunk-CWIOIJCP.js";import{a as P,c as w,d as S,g as O}from"./chunk-NWH3GCAN.js";import{$ as B,aa as j,ba as N,ca as T,da as q}from"./chunk-ORF7SHNW.js";import"./chunk-Q64FFBLU.js";import{Bc as C,Fb as h,Fc as y,Pb as i,Qb as x,Rb as b,Va as r,Wa as d,Xb as M,ia as v,lb as p,nb as l,wb as n,xb as e,yb as u}from"./chunk-4EBM5WXH.js";function et(o,g){o&1&&(n(0,"mat-error"),i(1," Email is required "),e())}function nt(o,g){o&1&&(n(0,"mat-error"),i(1," Enter a valid email "),e())}function it(o,g){o&1&&(n(0,"mat-error"),i(1," Password is required "),e())}function ot(o,g){o&1&&(n(0,"mat-icon",18),i(1,"hourglass_empty"),e())}function rt(o,g){o&1&&(n(0,"mat-icon"),i(1,"login"),e())}var St=(()=>{class o{constructor(s,a,t,m,c){this.fb=s,this.router=a,this.route=t,this.snackBar=m,this.authService=c,this.hidePassword=!0,this.isLoading=!1,this.returnUrl="/pets",this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required]]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/pets"}onLogin(){if(this.loginForm.valid&&!this.isLoading){this.isLoading=!0;let s=this.loginForm.value;this.authService.login(s).subscribe({next:a=>{this.isLoading=!1,this.snackBar.open("Login successful!","Close",{duration:2e3}),this.router.navigate([this.returnUrl])},error:a=>{this.isLoading=!1;let t=a.error?.message||"Login failed. Please try again.";this.snackBar.open(t,"Close",{duration:3e3})}})}}static{this.\u0275fac=function(a){return new(a||o)(d(V),d(w),d(P),d($),d(k))}}static{this.\u0275cmp=v({type:o,selectors:[["app-login"]],standalone:!0,features:[M],decls:37,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-title"],[1,"login-icon"],[1,"login-subtitle"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-flat-button","","type","submit","color","primary",1,"login-button",3,"disabled"],["class","loading-icon",4,"ngIf"],[1,"login-actions"],[1,"register-link"],["color","primary","routerLink","/register",1,"register-button"],[1,"loading-icon"]],template:function(a,t){if(a&1&&(n(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"h1",3)(4,"mat-icon",4),i(5,"pets"),e(),i(6," Welcome Back "),e(),n(7,"p",5),i(8,"Sign in to your Pawfect Store account"),e()(),n(9,"mat-card-content")(10,"form",6),h("ngSubmit",function(){return t.onLogin()}),n(11,"mat-form-field",7)(12,"mat-label"),i(13,"Email"),e(),u(14,"input",8),n(15,"mat-icon",9),i(16,"email"),e(),p(17,et,2,0,"mat-error",10)(18,nt,2,0,"mat-error",10),e(),n(19,"mat-form-field",7)(20,"mat-label"),i(21,"Password"),e(),u(22,"input",11),n(23,"button",12),h("click",function(){return t.hidePassword=!t.hidePassword}),n(24,"mat-icon"),i(25),e()(),p(26,it,2,0,"mat-error",10),e(),n(27,"button",13),p(28,ot,2,0,"mat-icon",14)(29,rt,2,0,"mat-icon",10),i(30),e()()(),n(31,"mat-card-actions",15)(32,"div",16)(33,"span"),i(34,"Don't have an account?"),e(),n(35,"a",17),i(36," Create Account "),e()()()()()),a&2){let m,c,_;r(10),l("formGroup",t.loginForm),r(7),l("ngIf",(m=t.loginForm.get("email"))==null?null:m.hasError("required")),r(),l("ngIf",(c=t.loginForm.get("email"))==null?null:c.hasError("email")),r(4),l("type",t.hidePassword?"password":"text"),r(3),x(t.hidePassword?"visibility_off":"visibility"),r(),l("ngIf",(_=t.loginForm.get("password"))==null?null:_.hasError("required")),r(),l("disabled",!t.loginForm.valid||t.isLoading),r(),l("ngIf",t.isLoading),r(),l("ngIf",!t.isLoading),r(),b(" ",t.isLoading?"Signing in...":"Sign In"," ")}},dependencies:[y,C,W,R,z,D,A,G,U,O,S,F,E,I,L,Q,K,Y,H,J,Z,X,N,B,j,q,T,tt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px;background:linear-gradient(135deg,var(--background-cream) 0%,var(--background-light) 100%)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;box-shadow:0 8px 32px var(--card-shadow);border-radius:16px;overflow:hidden}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-yellow) 0%,var(--accent-orange) 100%);color:#fff;text-align:center;padding:32px 24px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;font-size:28px;font-weight:600;margin:0;font-family:var(--font-heading)!important}.login-header[_ngcontent-%COMP%]   .login-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.login-header[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin:8px 0 0;font-family:var(--font-body)!important}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:16px;font-weight:600;font-family:var(--font-heading)!important;border-radius:24px;margin-top:16px;background:linear-gradient(135deg,var(--primary-yellow) 0%,var(--accent-orange) 100%);box-shadow:0 4px 12px var(--card-shadow);transition:all .3s ease;border:none;color:#fff}.login-button[_ngcontent-%COMP%]:hover:not([disabled]){transform:translateY(-2px);box-shadow:0 6px 16px #ffb0204d;background:linear-gradient(135deg,var(--primary-yellow-light) 0%,var(--accent-orange-light) 100%)}.login-button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;background:var(--text-light)}.login-button[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.login-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}mat-card-content[_ngcontent-%COMP%]{padding:32px 24px!important}.login-actions[_ngcontent-%COMP%]{padding:20px 24px!important;background:var(--background-light);border-top:1px solid var(--border-light);display:flex;justify-content:center;align-items:center}.demo-note[_ngcontent-%COMP%]{text-align:center;color:var(--text-medium);font-size:.8em;margin-top:12px;font-family:var(--font-body)!important}.register-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.register-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-medium);font-size:14px;font-family:var(--font-body)!important}.register-link[_ngcontent-%COMP%]   .register-button[_ngcontent-%COMP%]{font-weight:600;text-transform:none;font-family:var(--font-body)!important;color:var(--accent-orange)}.register-link[_ngcontent-%COMP%]   .register-button[_ngcontent-%COMP%]:hover{background-color:#fb8c001a}"]})}}return o})();export{St as LoginComponent};
