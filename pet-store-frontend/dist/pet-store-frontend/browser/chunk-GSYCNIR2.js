import{a as at}from"./chunk-7XBR4NAU.js";import{a as Y,b as Z}from"./chunk-5ZXECSJE.js";import{a as rt,b as lt}from"./chunk-C2N3VAR6.js";import{a as z,b as N,c as V,d as G,e as K,f as W,g as q,h as J,i as Q,j as U,k as X,n as tt,r as et,s as it}from"./chunk-VARSF3PV.js";import{a as nt,b as ot}from"./chunk-SNCR5QX2.js";import"./chunk-OVUCDZ47.js";import"./chunk-EY6RNGL4.js";import{a as E,b as T,c as L,d as I,f as R,g as B}from"./chunk-CWIOIJCP.js";import{c as S,d as D,g as k}from"./chunk-NWH3GCAN.js";import{$ as H,aa as F,ba as j,ca as $,da as A}from"./chunk-ORF7SHNW.js";import"./chunk-Q64FFBLU.js";import{Ab as C,Bc as O,Cb as h,Fb as b,Fc as w,Hb as _,Pb as i,Qb as u,Va as r,Xb as v,Zb as P,da as s,ia as y,lb as d,nb as m,qa as M,ra as x,wb as n,xb as o,yb as g,zb as p}from"./chunk-4EBM5WXH.js";var ct=t=>["/categories/edit",t];function mt(t,a){t&1&&(n(0,"div",9),g(1,"mat-spinner",10),n(2,"p"),i(3,"Loading categories..."),o()())}function dt(t,a){t&1&&(n(0,"th",20),i(1,"ID"),o())}function st(t,a){if(t&1&&(n(0,"td",21),i(1),o()),t&2){let e=a.$implicit;r(),u(e.id)}}function gt(t,a){t&1&&(n(0,"th",20),i(1,"Category Name"),o())}function pt(t,a){if(t&1&&(n(0,"td",21)(1,"div",22)(2,"mat-icon",23),i(3,"folder"),o(),n(4,"strong"),i(5),o()()()),t&2){let e=a.$implicit;r(5),u(e.name)}}function Ct(t,a){t&1&&(n(0,"th",20),i(1,"Actions"),o())}function ft(t,a){if(t&1){let e=h();n(0,"td",21)(1,"div",24)(2,"button",25)(3,"mat-icon"),i(4,"edit"),o()(),n(5,"button",26),b("click",function(){let c=M(e).$implicit,f=_(2);return x(f.onDeleteCategory(c))}),n(6,"mat-icon"),i(7,"delete"),o()()()()}if(t&2){let e=a.$implicit;r(2),m("routerLink",P(1,ct,e.id))}}function _t(t,a){t&1&&g(0,"tr",27)}function ut(t,a){t&1&&g(0,"tr",28)}function yt(t,a){if(t&1&&(n(0,"div",11)(1,"table",12),p(2,13),d(3,dt,2,0,"th",14)(4,st,2,1,"td",15),C(),p(5,16),d(6,gt,2,0,"th",14)(7,pt,6,1,"td",15),C(),p(8,17),d(9,Ct,2,0,"th",14)(10,ft,8,3,"td",15),C(),d(11,_t,1,0,"tr",18)(12,ut,1,0,"tr",19),o()()),t&2){let e=_();r(),m("dataSource",e.categories),r(10),m("matHeaderRowDef",e.displayedColumns),r(),m("matRowDefColumns",e.displayedColumns)}}function Mt(t,a){t&1&&(n(0,"div",29)(1,"mat-icon",30),i(2,"category_outline"),o(),n(3,"h3"),i(4,"No Categories Found"),o(),n(5,"p"),i(6,"Get started by adding your first category."),o()())}var Vt=(()=>{class t{constructor(){this.categoryService=s(at),this.dialog=s(tt),this.router=s(S),this.snackBar=s(Y),this.categories=[],this.loading=!1,this.displayedColumns=["id","name","actions"]}ngOnInit(){this.loadCategories()}loadCategories(){this.loading=!0,this.categoryService.getAllCategories().subscribe({next:e=>{this.categories=e,this.loading=!1},error:e=>{console.error("Error loading categories:",e),this.snackBar.open("Failed to load categories","Close",{duration:3e3,panelClass:["error-snackbar"]}),this.loading=!1}})}onDeleteCategory(e){if(!e.id)return;let l={title:"Delete Category",message:`Are you sure you want to delete category "<strong>${e.name}</strong>"?
This action cannot be undone and will permanently remove this category from the system.`,confirmText:"Delete Category",cancelText:"Keep Category",icon:"delete_forever"};this.dialog.open(it,{width:"400px",maxWidth:"90vw",data:l,disableClose:!0,panelClass:"confirm-dialog-container",hasBackdrop:!0,backdropClass:"confirm-dialog-backdrop"}).afterClosed().subscribe(f=>{f&&e.id&&this.deleteCategory(e.id)})}deleteCategory(e){this.categoryService.deleteCategory(e).subscribe({next:()=>{this.snackBar.open("Category deleted successfully","Close",{duration:3e3,panelClass:["success-snackbar"]}),this.loadCategories()},error:l=>{console.error("Error deleting category:",l),this.snackBar.open("Failed to delete category","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=y({type:t,selectors:[["app-category-list"]],standalone:!0,features:[v],decls:22,vars:3,consts:[[1,"category-list-container"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"header-actions"],["mat-raised-button","","color","primary","routerLink","/categories/add"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"category-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"category-name"],[1,"category-icon"],[1,"action-buttons"],["mat-icon-button","","color","primary","matTooltip","Edit Category",3,"routerLink"],["mat-icon-button","","color","warn","matTooltip","Delete Category",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"large-icon"]],template:function(l,c){l&1&&(n(0,"div",0)(1,"h1"),i(2,"Categories"),o(),n(3,"mat-card")(4,"mat-card-header")(5,"div",1)(6,"div",2)(7,"mat-card-title")(8,"mat-icon",3),i(9,"category"),o(),i(10," Category Management "),o(),n(11,"mat-card-subtitle"),i(12,"Manage pet categories"),o()(),n(13,"div",4)(14,"button",5)(15,"mat-icon"),i(16,"add"),o(),i(17," Add Category "),o()()()(),n(18,"mat-card-content"),d(19,mt,4,0,"div",6)(20,yt,13,3,"div",7)(21,Mt,7,0,"div",8),o()()()),l&2&&(r(19),m("ngIf",c.loading),r(),m("ngIf",!c.loading&&c.categories.length>0),r(),m("ngIf",!c.loading&&c.categories.length===0))},dependencies:[w,O,k,D,B,E,L,R,I,T,j,H,F,A,$,X,z,V,q,G,N,J,K,W,Q,U,et,lt,rt,ot,nt,Z],styles:[".category-list-container[_ngcontent-%COMP%]{padding:24px;max-width:800px;margin:0 auto}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.title-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;width:100%}.title-section[_ngcontent-%COMP%]{flex:1}.header-actions[_ngcontent-%COMP%]{flex-shrink:0;margin-left:16px}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 0}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#0009}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-top:16px}.category-table[_ngcontent-%COMP%]{width:100%}.category-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-family:var(--font-heading)!important;background-color:rgba(var(--primary-yellow-rgb),.1)}.category-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .category-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px}.category-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:rgba(var(--primary-yellow-rgb),.05)}.category-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.category-name[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{color:#0009;font-size:18px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px;height:40px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%]{font-size:64px;color:#0000004d;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-family:var(--font-heading);color:#000000b3}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#00000080}@media (max-width: 768px){.category-list-container[_ngcontent-%COMP%]{padding:16px}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.header-actions[_ngcontent-%COMP%]{margin-left:0;align-self:stretch}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.category-table[_ngcontent-%COMP%]{min-width:500px}.category-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .category-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 12px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:2px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:36px;height:36px}}@media (max-width: 480px){.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px}}  .success-snackbar{background-color:#4caf50!important;color:#fff!important}  .error-snackbar{background-color:#f44336!important;color:#fff!important}"]})}}return t})();export{Vt as CategoryListComponent};
