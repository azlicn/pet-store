<div class="documentation-container">
  <header class="documentation-header">
    <h1>üêæ Pawfect Store - System Documentation</h1>
    <p>Visual documentation for the Pet Store application architecture and workflows.</p>
  </header>

  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" class="documentation-tabs">
    
    <mat-tab label="üèóÔ∏è Architecture">
      <div class="tab-content">
        <div class="category-intro">
          <h2>System Architecture Overview</h2>
          <p>High-level architecture diagrams showing the overall system structure and component relationships.</p>
        </div>
        
        <app-mermaid-diagram
          *ngFor="let diagram of getDiagramsByCategory('architecture'); trackBy: trackByDiagram"
          [title]="diagram.title"
          [description]="diagram.description"
          [diagramDefinition]="diagram.definition"
          [showActions]="true">
        </app-mermaid-diagram>
      </div>
    </mat-tab>

    <mat-tab label="üóÑÔ∏è Database">
      <div class="tab-content">
        <div class="category-intro">
          <h2>Database Design & Relationships</h2>
          <p>Entity relationship diagrams and database schema visualization.</p>
        </div>
        
        <app-mermaid-diagram
          *ngFor="let diagram of getDiagramsByCategory('database'); trackBy: trackByDiagram"
          [title]="diagram.title"
          [description]="diagram.description"
          [diagramDefinition]="diagram.definition"
          [showActions]="true">
        </app-mermaid-diagram>
      </div>
    </mat-tab>

    <mat-tab label="üîÑ API Flows">
      <div class="tab-content">
        <div class="category-intro">
          <h2>API Workflows & Sequences</h2>
          <p>Sequence diagrams showing API interactions and authentication flows.</p>
          
          <div class="api-navigation">
            <h4>Quick Navigation:</h4>
            <div class="nav-buttons">
              <button mat-raised-button color="primary" (click)="scrollToSection('auth-sequence-title')">
                <mat-icon>security</mat-icon>
                Authentication APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('pets-sequence-title')">
                <mat-icon>pets</mat-icon>
                Pet Management APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('address-sequence-title')">
                <mat-icon>location_on</mat-icon>
                Address Management APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('store-sequence-title')">
                <mat-icon>shopping_cart</mat-icon>
                Store & Order APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('discount-sequence-title')">
                <mat-icon>local_offer</mat-icon>
                Discount Management APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('category-sequence-title')">
                <mat-icon>category</mat-icon>
                Category Management APIs
              </button>
              <button mat-raised-button color="primary" (click)="scrollToSection('users-sequence-title')">
                <mat-icon>people</mat-icon>
                User Management APIs
              </button>
            </div>
          </div>
        </div>
        
        <div *ngFor="let diagram of getDiagramsByCategory('api'); trackBy: trackByDiagram">
          <div *ngIf="diagram.category === 'api-section'" class="section-header" [id]="diagram.id">
            <h3>{{ diagram.title }}</h3>
            <p>{{ diagram.description }}</p>
          </div>
          
          <app-mermaid-diagram
            *ngIf="diagram.category === 'api'"
            [title]="diagram.title"
            [description]="diagram.description"
            [diagramDefinition]="diagram.definition"
            [showActions]="true">
          </app-mermaid-diagram>
        </div>
      </div>
    </mat-tab>

    <mat-tab label="üë§ User Flows">
      <div class="tab-content">
        <div class="category-intro">
          <h2>User Journey & Experience Flows</h2>
          <p>User interaction flows and experience mapping through the application.</p>
        </div>
        
        <app-mermaid-diagram
          *ngFor="let diagram of getDiagramsByCategory('user-flow'); trackBy: trackByDiagram"
          [title]="diagram.title"
          [description]="diagram.description"
          [diagramDefinition]="diagram.definition"
          [showActions]="true">
        </app-mermaid-diagram>
      </div>
    </mat-tab>

    <mat-tab label="üöÄ Deployment">
      <div class="tab-content">
        <div class="category-intro">
          <h2>Deployment Architecture</h2>
          <p>Container orchestration, infrastructure, and deployment pipeline visualization.</p>
        </div>
        
        <app-mermaid-diagram
          *ngFor="let diagram of getDiagramsByCategory('deployment'); trackBy: trackByDiagram"
          [title]="diagram.title"
          [description]="diagram.description"
          [diagramDefinition]="diagram.definition"
          [showActions]="true">
        </app-mermaid-diagram>
      </div>
    </mat-tab>

  </mat-tab-group>

  <button 
    mat-fab 
    color="primary" 
    class="back-to-top-btn"
    [class.show]="showBackToTop"
    (click)="scrollToTop()"
    title="Back to Top">
    <mat-icon>keyboard_arrow_up</mat-icon>
  </button>

  <footer class="documentation-footer">
    <p>Pawfect Store v1.0.0</p>
  </footer>
</div>